# Worked Examples  
<table>
  <tr>
    <th> <b>Chapter</b> </td>
    <th> <i>Lead Author</i> </td>
    <th> Number of WE </td>
  </tr>
  <tr>
    <td> <b> 1. Introduction</b> </td>
    <td> <i>Lena Tallaksen</i> </td>
    <td>  </td>
  </tr>  
  <tr>
    <td> <b> 2. Hydroclimatology</b> </td>
    <td> <i>Daniel Kingston</i> </td>
    <td> 0 </td>
  </tr>
  <tr>
    <td> <b> 3. Drought Generating Processes</b> </td>
    <td> <i>Henny van Lanen</i> </td>
    <td> 0 </td>
  </tr>
  <tr>
    <td> <b> 4. Hydrological Data</b> </td>
    <td> <i>Jamie Hannaford</i> </td>
    <td>  </td>
  </tr>
  <tr>
    <td> <b> 5. Hydrological Drought Characteristics</b> </td>
    <td> <i>Hege Hisdal</i> </td>
    <td> 7 </td>
  </tr>
  <tr>
  <td colspan="3">
  <ul>
  <li>5.1 Flow duration curve: 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/5-1_flow_duration_curve.html">Worked Example</a>, 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/5-1_flow_duration_curve.R">R-script</a>
    <br><i>new R-script and updated time series, worked example changed accordingly</i>
  </li>

  <li>5.2 Mean annual minimum flow: 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/5-2_mean_annual_minimum_flow.html">Worked Example</a>, 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/5-2_mean_annual_minimum_flow.R">R-script</a>
    <br><i>new R-script and updated time series, worked example changed accordingly</i>
  </li>

  <li>5.3 Base Flow Index: 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/5-3_base_flow_index.html">Worked Example</a>, 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/5-3_base_flow_index.R">R-script</a>
    <br><i>new R-script and updated time series, worked example changed accordingly</i>
  </li>

  <li>5.4 Threshold level method: 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/5-4_threshold_level_method.html">Worked Example</a>, 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/5-4_threshold_level_method.R">R-script</a>
    <br><i>Nizowka replaced by new R-script (+updated time series), worked example changed accordingly</i>
  </li>

  <li>5.5 Sequent Peak Algorithm: 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/5-5_sequent_peak_algorithm.html">Worked Example</a>, 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/5-5_sequent_peak_algorithm.R">R-script</a>
    <br><i>Decided to keep as the method is applied operationally by the hydropower sector. New R-script and updated time series</i>
  </li>

  <li>5.6 Standardized Groundwater Index: 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/5-6_standardized_groundwater_index.html">Worked Example</a>, 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/5-6_standardized_groundwater_index.R">R-script</a>
    <br><i>to be made by John in collaboration with Tobias</i>
  </li>
 
  <li>5.7 Rank and correlation coefficients: 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/5-7_rank_and_correlation_coefficients.html">Worked Example</a>, 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/5-7_rank_and_correlation_coefficients.R">R-script</a>
    <br><i>To be implemented in R + new regional dataset – updated by Nico –in collaboration with Tobias</i>
  </li>
  </ul>
  </td>
  </tr>

  <tr>
    <td> <b> 6. Frequency Analysis</b> </td>
    <td> <i>Lena M Tallaksen</i> </td>
    <td>  </td>
  </tr>
  <tr>
    <td> <b> 7. Statistical modelling</b> </td>
    <td> <i>Jim Stagge</i> </td>
    <td> 6 </td>
  </tr>

  <tr>
  <td colspan="3">
  <ul>
  <li>7.1 Linear regression and residuals: 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/7-1_linear_regression_and_residuals.html">Worked Example</a>, 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/7-1_linear_regression_and_residuals.R">R-script</a>

  </li>

  <li>7.2 Multiple regression: 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/7-2_multiple_regression.html">Worked Example</a>, 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/7-2_multiple_regression.R">R-script</a>
    <br><i>incl. variable selection</i>
  </li>

  <li>7.3 Regression extensions: 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/7-3_regression_extensions.html">Worked Example</a>, 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/7-3_regression_extensions.R">R-script</a>
    <br><i>logistic, poisson, GLMs</i>
  </li>

  <li>7.4 Trend analysis: 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/7-4_trend_analysis.html">Worked Example</a>, 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/7-4_trend_analysis.R">R-script</a>

  </li>

  <li>7.5 Structural change analysis: 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/7-5_structural_change_analysis.html">Worked Example</a>, 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/7-5_structural_change_analysis.R">R-script</a>

  </li>

  <li>7.6 PCA fundamentals: 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/7-6_pca_fundamentals.html">Worked Example</a>, 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/7-6_pca_fundamentals.R">R-script</a>
  </li>
  </ul>
  </td>
  </tr>

  <tr>
    <td> <b> 8. Regionalization Procedures</b> </td>
    <td> <i>Gregor Laaha</i> </td>
    <td> 2 </td>
  </tr>
  <tr>
  <td colspan="3">
  <ul>
  <li>8.1 Regional Regression: 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/8-1_regional_regression.html">Worked Example</a>, 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/8-1_regional_regression.R">R-script</a>

  </li>

  <li>8.2 Top Kriging: 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/8-2_top_kriging.html">Worked Example</a>, 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/8-2_top_kriging.R">R-script</a>

  </li>
  </ul>
  </td>
  </tr>

   <tr>
    <td> <b> 9. Process-based modelling</b> </td>
    <td> <i>Henny van Lanen</i> </td>
    <td> 0 </td>
  </tr>
  <tr>
    <td> <b> 10. Human Influences</b> </td>
    <td> <i>Anne F. Van Loon</i> </td>
    <td> 1 </td>
  </tr>
  <tr>
  <td colspan="3">
  <ul>
  <li>10.1 Human Influences: 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/10-1_human_influences.html">Worked Example</a>, 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/10-1_threshold.R">R-script</a>
    <br><i></i>
  </li>

  <tr>
    <td> <b> 11. Past and Future Droughts</b> </td>
    <td> <i>Niko Wanders</i> </td>
    <td> 0 </td>
  </tr>
  <tr>
    <td> <b> 12. Drought Impacts</b> </td>
    <td> <i>Kerstin Stahl</i> </td>
    <td> 2 </td>
  </tr>
 <tr>
  <td colspan="3">
  <ul>
  <li>12.1 EDII text report: 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/12-1_edii_text_report.html">Worked Example</a>, 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/12-1_edii_text_report.R">R-script</a>
    <br><i>This will not have any R Code, it will consist of an example text and our instructions.</i>
  </li>

  <li>12.2 Likelihood of impact occurrence: 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/12-2_likelihood_of_impact_occurrence.html">Worked Example</a>, 
    <a href="https://github.com/jstagge/hydroDrought/blob/testing_binder/worked_examples/12-2_likelihood_of_impact_occurrence.R">R-script</a>
    <br><i>will be based on data and code from Jim’s JoH paper</i>
  </li>
  </ul>
  </td>
  </tr>

  <tr>
    <td> <b> 13. Drought Early warning</b> </td>
    <td> <i>Christel Prudhomme</i> </td>
    <td> 1 </td>
  </tr>
  <tr>
  <td colspan="3">
  <ul>
  <li>13.1 Forecast skill: 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/13-1_forecast_skill.html">Worked Example</a>, 
    <a href="https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/13-1_forecast_skill.R">R-script</a>
    <br><i>Lambourne catchment and will use GR4 model, calibrated using the airGR4 R toolset</i>
  </li>
  </ul>
  </td>
  </tr>

  <tr>
    <td> <b> 14. Perspectives</b> </td>
    <td> <i>Henny van Lanen</i> </td>
    <td>  </td>
  </tr>
</table>


## Instructions for use

### Option 1: Static version in HTML (website) 

* Worked Example 5.1: [Flow Duration Curve](https://combinatronics.com/jstagge/hydroDrought/master/worked_examples/files/5-1_flow_duration_curve.html)


### Option 2: Run code live in the cloud with no prerequisites

Click at this badge to execute the analysis and replicate results using R-Studio in the cloud without needing to install R or its dependencies on your local machine.    
RStudio: [![Binder](http://mybinder.org/badge.svg)](http://mybinder.org/v2/gh/jstagge/hydroDrought/tree/master/worked_examples/?urlpath=rstudio)

If you want to share this live RStudio link with others, please share this URL: http://mybinder.org/v2/gh/jstagge/hydroDrought/tree/master/worked_examples/?urlpath=rstudio

*Note*, URLs that contain (https://hub.mybinder.org.....) will become invalid after few minutes of inactivity.

Once RStudio launches online, it will come with all the prerequisites installed and ready to execute. So skip ```Rscript 00_prepare_file_system.R``` step in running the code.    


### Option 3: Run code on a local machine   
These instructions will allow you to process the reproducibility survey data on your local machine for testing purposes. All code is written in R. See Prerequisites and Running sections below for detailed instructions.  

### Prerequisites

In order to run this code, you must install:
* [R for Statistical Computing](https://www.r-project.org/)

All necesary R packages will be installed automatically in the first file.

## Running the Code

First, make sure to set the working directory to the downloaded and unzipped folder.  

### Running all scripts at once

Code is numbered based on the order of operations. For more detailed information about each file, see below:

